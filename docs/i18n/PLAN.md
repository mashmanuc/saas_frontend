---
Title: ПЛАН ВПРОВАДЖЕННЯ I18N-ПОЛІТИКИ
Owner: Platform Foundations Guild
Last-Updated: 2025-12-31
---

## 1. Мета
Стандартизувати зберігання, валідацію та використання i18n-ключів, щоб уникнути дублікатів, втрати перекладів та ручного менеджменту.

## 2. Обсяг
- Frontend (Vue 3 + Pinia): `src/i18n/**`, усі модулі, що використовують `t()`
- Backend i18n API (`/i18n/**`)
- CI/CD пайплайн (pre-commit, GitHub Actions)
- Документація та адмінський інструментарій

## 3. Поетапний план
### Етап 1. Джерело правди та скрипти перевірки (1 день)
1.1. Задати `src/i18n/locales/uk.json` як референсну структуру.
1.2. Розширити `scripts/i18n-check.mjs`:
- підтримка всіх мов із `SUPPORTED_LOCALES`
- виявлення дубльованих ключів
- статуси: «немає в локалі», «є структура, але пусте значення»
1.3. Додати npm-скрипт `pnpm i18n:check` та хук pre-commit.

### Етап 2. CI та блокування мерджів (0.5 дня)
2.1. Додати джоб у CI (GitHub Actions `i18n-check.yml`).
2.2. Заборонити мердж PR, якщо скрипт впав.

### Етап 3. Неймспейси й cleanup (1 день)
3.1. Розбити ключі на домени (`calendar.*`, `auth.*`, `notifications.*`).
3.2. Видалити дублікати/мерджі, позначити депрекейтнуті ключі.
3.3. Оновити MANIFEST + onboarding-інструкції.

### Етап 4. Інструмент «Missing translations» (2 дні)
4.1. Backend: endpoint `/i18n/translations/missing/{locale}/` повертає список ключів.
4.2. Frontend admin: таблиця зі статусом ключів, фільтри, експорт CSV.
4.3. Авторизація лише для ролей `i18n_manager`.

### Етап 5. ESLint/AST правило (0.5 дня)
5.1. Власне правило: заборона хардкоджених рядків із uk/en словників у коді.
5.2. Додати до `eslint.config.ts` та CI.

### Етап 6. Авто-звітність (0.5 дня)
6.1. Щотижневий cron-job у CI: запускає `pnpm i18n:check --report`.
6.2. Відправляє звіт у канал `#l10n-status` (Slack webhook).

## 4. Ролі
- **Language Platform Lead** — власник політики, ревʼю плану.
- **Frontend Infra** — імплементація скриптів, ESLint, UI.
- **Backend Infra** — API для missing translations.
- **QA Automation** — smoke-тести admin tooling.

## 5. Deliverables
- Оновлений `scripts/i18n-check.mjs`
- CI job `i18n-check`
- MANIFEST + onboarding доповнені
- Admin UI для missing translations
- ESLint правило
- Cron-job з тижневим репортом

## 6. KPI
- 0 продакшн-релізів з відсутніми ключами
- ≤1% ключів без перекладу після релізу
- ≤5 хв на виявлення дубліката під час ревʼю

## 7. Ризики
- Відсутність перекладачів → накопичення беклогу (мітігація: пріоритизація через weekly report)
- Домени не синхронізовані між продуктами → перед запуском проводимо воркшоп по naming.

## 8. Наступні кроки
- Затвердити план техраді (до 2026-01-03)
- Розбити на тікети в Jira: INFRA-201..INFRA-206
- Призначити відповідальних за кожен етап
