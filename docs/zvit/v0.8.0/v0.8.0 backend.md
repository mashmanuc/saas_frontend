# Звіт v0.8.0 — Backend

Дата: 9 грудня 2025  
Команда: backend (Relations/API, autosave, marketplace)

## 1. Виконання пунктів плану v0.8.0

| Пункт плану | Статус | Деталі реалізації |
|-------------|--------|-------------------|
| Relations API v2: accept/decline/cancel/resend + `my_tutor` | ✅ завершено | Додано інтеграційні APITestCase-и в `apps/users/tests/test_relations_api.py` та `test_student_my_tutor_api.py`. Покрито всі вимоги плану: архівація інших active, decline→archived, cancel→invitation CANCELLED, resend із rate-limit, три стани `/api/student/my_tutor/`. |
| Autosave backend | ✅ завершено | `apps/users/tests/test_profile_autosave_api.py` перевіряє merge словників, перезапис списків і rate-limit 10s. Реалізація в `ProfileAutosaveView` доповнена fallback кешем; тестові сетапи чистять cache. |
| Marketplace public list (фільтри, пошук, сорти, курсор) | ✅ завершено | Набір `apps/marketplace/tests/test_marketplace_api.py` розширений перевірками `subject/price_max`, пошуку по headline, курсорної пагінації (2 сторінки) та нових сортувань `price_desc`, `experience`. |
| Smoke-test suite | ✅ завершено | Запущено `python manage.py test --keepdb apps.users.tests.test_relations_api apps.users.tests.test_profile_autosave_api apps.users.tests.test_student_my_tutor_api apps.users.tests.test_me_profile_api apps.marketplace.tests.test_marketplace_api` — 23 тести, 23.6s, всі пройдені. |

## 2. Відповідність вимогам з документу `docs/plan/v8/backend_08.md`

- **Relations**: кожен кейс із чек-листа (accept з архівацією, decline, cancel, resend з rate-limit, `my_tutor` три стани) підтверджено автоматичними тестами та ручною перевіркою відповідей API.
- **Autosave**: тестується пайплайн merge (dict/list), rate-limit, валідація payload через `ProfileAutosaveSerializer`. Додано кеш-fallback, щоби уникнути залежності від Redis у тестах.
- **Marketplace**: курсор-пагінація (`results`, `cursor`, `has_more`), наступна сторінка, сорти й фільтри — все покрито новими тестами.
- **Seed/fixtures**: для тестів використовуються create_user + профілі/сеттінги, що відповідає seed_demo_v8 даним; кеш очищається перед кожним набором, щоб стан був детермінований.

=> Усі вимоги пункту 8 виконано, регресій не виявлено.

## 3. Пропозиції/вхідні дані на v0.9.0 (узгоджено з чорновим планом v9)

Виходячи зі зробленого та потреб фронту, пропонуємо включити до v0.9.0:

1. **Relations Dashboard API v3**: агреговані лічильники, фільтри та масові дії (дані вже готуються на фронті, потрібен batched endpoint).
2. **Autosave diff endpoint**: повернення списку dirty-полів для фронту (щоб узгодити з їхнім `profileStore`); передбачити TTL/cleanup.
3. **Marketplace caching + telemetry**: винос ключів у Redis, метрики часу відповіді, окремий endpoint top-rated. Це продовжує п.5 плану v8 (перф), але вже як окремий OKR на v9.
4. **Документація + changelog автоматизація**: інтегрувати звіт (цей файл) у CI-джоби, аби не повторювався хаос із пустими файлами.

Файли `docs/plan/v9/backend_09.md` / `frontend09.md` наразі порожні—готові наповнити після затвердження напрямків.

## 4. Висновки

- Backend v0.8.0 повністю відповідає техплану.
- Доставлені smoke тести закривають усі критичні інтеграційні сценарії.
- Наступним кроком є узгодження дорожньої карти для v0.9.0 (Relations dashboard, autosave diff, marketplace перф). Мы готові стартувати одразу після підтвердження.