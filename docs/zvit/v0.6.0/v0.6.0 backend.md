# Backend v0.6.0 — розширення Activity та Avatar

## 1. Підсистема ActivityLog (BE-620…BE-626)
- Створено новий домен `apps.analytics` із моделлю `ActivityLog` (UUID id, FK на користувача, action/entity, metadata, timestamp, IP, User-Agent).
- Додано сервіс `apps.analytics.services.activity.log()` для єдиного способу логування з будь-якого API.
- Інтегровано логування у:
  - PATCH `/api/me/profile/` (фіксує diffs для user/tutor/student + подію `settings.updated`).
  - POST `/api/me/avatar/` (`avatar.uploaded`).
  - DELETE `/api/me/avatar/` (`avatar.deleted`).
- IP/User-Agent знімаються автоматично через helper.
- Реалізовано GET `/api/me/activity/` з фільтрами (`limit`, `before`, `after`, `action`), серіалізатором та тестами.
- Документацію/план оновлено каталогом подій та прикладами payload.
- Додано unit-тести для upload/delete аватарів і стрічки активності.

## 2. Профіль користувача та налаштування (підготовка до BE-621)
- `UserSettings` розширено до v2: `ui_language`, `interface_language`, `timezone`, `notifications_enabled`, `privacy_public_profile`, `dark_mode` (+ валідатор таймзони).
- `UserProfileSerializer` повертає `avatar_url`.
- У модель `User` додано `ImageField avatar` і endpoint `/api/me/avatar/` з покриттям тестами.

## 3. Невиконані дії
- Оновлення seed-даних ще в роботі: треба додати дефолтні settings + приклади ActivityLog для demo-користувачів.
- Swagger UI частково оновлений через `extend_schema`; детальний опис зафіксовано в планових документах.
