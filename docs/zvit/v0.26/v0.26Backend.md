# v0.26 Backend ‚Äî Solo Workspace (Optional API) Report

**–í–µ—Ä—Å—ñ—è:** 0.26  
**–†–æ–ª—å:** Backend Developer  
**–î–∞—Ç–∞:** 12.12.2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìã SUMMARY

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π backend –¥–ª—è Solo Workspace ‚Äî cloud save, PNG export, session sharing. Solo Workspace –ø—Ä–∞—Ü—é—î –ø–æ–≤–Ω—ñ—Å—Ç—é offline (localStorage), backend ‚Äî –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è sync –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏.

---

## ‚úÖ –í–ò–ö–û–ù–ê–ù–Ü –ó–ê–í–î–ê–ù–ù–Ø

### B1: SoloSession Model ‚úÖ
- `SoloSession` ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–∞ —Å–µ—Å—ñ—è –∑ JSON state
- `SoloExport` ‚Äî –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ (PNG/PDF/JSON)
- –ú—ñ–≥—Ä–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞

### B2: Serializers ‚úÖ
- `SoloSessionListSerializer` ‚Äî lightweight –¥–ª—è —Å–ø–∏—Å–∫—É
- `SoloSessionDetailSerializer` ‚Äî –ø–æ–≤–Ω–∏–π state
- `SoloSessionCreateSerializer` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- `SoloExportSerializer` ‚Äî –µ–∫—Å–ø–æ—Ä—Ç

### B3: API Views ‚úÖ
- `SoloSessionListView` ‚Äî GET/POST sessions
- `SoloSessionDetailView` ‚Äî GET/PATCH/DELETE session
- `SoloSessionExportView` ‚Äî POST export
- `SoloSessionDuplicateView` ‚Äî POST duplicate

### B4: SoloService ‚úÖ
- `create_export()` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫—Å–ø–æ—Ä—Ç—É
- `duplicate_session()` ‚Äî –¥—É–±–ª—é–≤–∞–Ω–Ω—è —Å–µ—Å—ñ—ó
- `get_recent_sessions()` ‚Äî –æ—Å—Ç–∞–Ω–Ω—ñ —Å–µ—Å—ñ—ó

### B5: URLs + Registration ‚úÖ
- URLs –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ –∑ namespace `solo-api`
- –î–æ–¥–∞–Ω–æ –≤ `config/settings.py` —Ç–∞ `config/urls.py`

### B6: Tests ‚úÖ
- CRUD tests
- Permission tests
- Export/duplicate tests

---

## üìÅ –ù–û–í–Ü –§–ê–ô–õ–ò

```
apps/solo/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ apps.py
‚îú‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ services.py
‚îú‚îÄ‚îÄ urls.py
‚îú‚îÄ‚îÄ admin.py
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ serializers.py
‚îÇ   ‚îî‚îÄ‚îÄ views.py
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ 0001_initial.py
‚îî‚îÄ‚îÄ tests/
    ‚îú‚îÄ‚îÄ __init__.py
    ‚îî‚îÄ‚îÄ test_solo_api.py
```

---

## üìù –ó–ú–Ü–ù–ï–ù–Ü –§–ê–ô–õ–ò

| –§–∞–π–ª | –ó–º—ñ–Ω–∏ |
|------|-------|
| `config/settings.py` | –î–æ–¥–∞–Ω–æ `apps.solo` |
| `config/urls.py` | –î–æ–¥–∞–Ω–æ solo URLs |

---

## üîó –ù–û–í–Ü ENDPOINTS

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v1/solo/sessions/` | List user's sessions |
| POST | `/api/v1/solo/sessions/` | Create new session |
| GET | `/api/v1/solo/sessions/{id}/` | Get session with state |
| PATCH | `/api/v1/solo/sessions/{id}/` | Update session (autosave) |
| DELETE | `/api/v1/solo/sessions/{id}/` | Delete session |
| POST | `/api/v1/solo/sessions/{id}/export/` | Export as PNG/PDF/JSON |
| POST | `/api/v1/solo/sessions/{id}/duplicate/` | Duplicate session |

---

## üóÑÔ∏è –ú–û–î–ï–õ–Ü

### SoloSession
```python
id: UUID (PK)
user: FK ‚Üí User
name: CharField(255)
state: JSONField  # All pages data
page_count: PositiveIntegerField
thumbnail_url: URLField (optional)
created_at: DateTimeField
updated_at: DateTimeField
```

### SoloExport
```python
id: UUID (PK)
session: FK ‚Üí SoloSession
format: CharField (png/pdf/json)
file_url: URLField
file_size: PositiveIntegerField
created_at: DateTimeField
```

---

## üìà –ú–ï–¢–†–ò–ö–ò

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–Ω—è |
|---------|----------|
| –ù–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤ | 11 |
| –ó–º—ñ–Ω–µ–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ | 2 |
| –†—è–¥–∫—ñ–≤ –∫–æ–¥—É | ~400 |
| –ù–æ–≤–∏—Ö endpoints | 7 |
| Test cases | 12 |

---

## ‚ö†Ô∏è –ü–†–ò–ú–Ü–¢–ö–ò

1. **Backend ‚Äî –û–ü–¶–Ü–û–ù–ê–õ–¨–ù–ò–ô.** Solo Workspace –ø—Ä–∞—Ü—é—î –ø–æ–≤–Ω—ñ—Å—Ç—é offline —á–µ—Ä–µ–∑ localStorage
2. **PNG/PDF export** ‚Äî placeholder, –ø–æ—Ç—Ä–µ–±—É—î server-side rendering (Pillow/reportlab)
3. **File storage** ‚Äî placeholder URLs, –≤ production –ø–æ—Ç—Ä—ñ–±–µ–Ω S3/storage

---

## üß™ –¢–ï–°–¢–£–í–ê–ù–ù–Ø

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–∏
python manage.py check

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ solo
pytest apps/solo/tests/ -v

# –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –º—ñ–≥—Ä–∞—Ü—ñ–π
python manage.py migrate solo
```

---

## ‚úÖ DEFINITION OF DONE

- [x] B1: Model —Å—Ç–≤–æ—Ä–µ–Ω–æ + –º—ñ–≥—Ä–∞—Ü—ñ—è
- [x] B2: Serializers –≥–æ—Ç–æ–≤—ñ
- [x] B3: API views –ø—Ä–∞—Ü—é—é—Ç—å
- [x] B4: Service logic
- [x] B5: URLs –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ
- [x] B6: Tests —Å—Ç–≤–æ—Ä–µ–Ω—ñ
- [x] System check passed

---

*M4SH Platform v0.26 ‚Äî Solo Workspace (Optional API) Complete*
