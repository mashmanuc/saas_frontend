# QA Checklist: UI Contract Integration

## Фаза 0: Підготовка

### Токени та теми
- [ ] Токени `ui-contract` імпортовані в `src/main.js`
- [ ] CSS змінні `--ui-*` доступні глобально
- [ ] `data-theme` атрибут встановлюється на `document.documentElement`
- [ ] Теми light/dark/classic перемикаються коректно
- [ ] Токени наслідують змінні з `assets/main.css` (fallback працює)
- [ ] Немає конфліктів стилів при завантаженні

### Smoke тести
- [ ] Unit тести для theme store проходять
- [ ] Інтеграційні тести для токенів проходять
- [ ] Візуальна перевірка всіх трьох тем у dev-режимі

## Фаза 1: Пілотний модуль (profileV2)

### Структура
- [ ] Створено каталог `src/modules/profileV2`
- [ ] Підпапки: `views/`, `components/`, `services/`, `forms/`
- [ ] README.md з описом V2 та посиланням на політику міграції
- [ ] Legacy `src/modules/profile` позначено read-only

### Сервіси (копія без змін)
- [ ] `services/profileStore.js` скопійовано з legacy
- [ ] `services/meStore.js` скопійовано з legacy
- [ ] API клієнти працюють без змін
- [ ] Позначено коментарями `// Legacy-compatible`

### UI компоненти (ui-contract)
- [ ] Всі views використовують лише компоненти з `@/assets2/ui-contract`
- [ ] Немає імпортів legacy стилів
- [ ] Немає використання старих UI-компонентів
- [ ] Layout реалізовано через CSS vars, без перевизначення стилів компонентів
- [ ] Всі тексти через i18n (немає hardcoded strings)

### Роутинг
- [ ] Додано маршрути `*-v2` у `src/router/index.js`
- [ ] Feature-flag для перемикання Legacy/V2
- [ ] Legacy маршрути не змінені
- [ ] Навігація між Legacy та V2 працює

### Функціональність
- [ ] ProfileEditView V2 працює коректно
- [ ] ProfileOverviewView V2 працює коректно
- [ ] UserAccountView V2 працює коректно
- [ ] Форми валідуються правильно
- [ ] API виклики ідентичні Legacy версії
- [ ] State management працює без регресій

### Accessibility
- [ ] Focus states працюють на всіх контролах
- [ ] Aria-атрибути присутні та коректні
- [ ] Клавіатурна навігація працює (Tab, Enter, Escape)
- [ ] Modal: focus-trap працює
- [ ] Modal: фокус повертається після закриття
- [ ] Screen reader friendly (перевірено з NVDA/JAWS)

### Unit тести
- [ ] Тести для нових views написані
- [ ] Тести для форм написані
- [ ] Тести для ui-contract обгорток написані
- [ ] Покриття >= 80%
- [ ] Всі тести проходять

### E2E тести
- [ ] Smoke тест: відкриття profileV2
- [ ] Тест: редагування профілю
- [ ] Тест: збереження змін
- [ ] Тест: валідація форм
- [ ] Тест: перемикання тем
- [ ] Всі e2e тести проходять

### Продуктивність
- [ ] LCP < 2.5s (виміряно Lighthouse)
- [ ] CLS = 0 (немає layout shifts)
- [ ] FID < 100ms
- [ ] Bundle size не збільшився значно (перевірити з webpack-bundle-analyzer)
- [ ] Немає memory leaks (перевірено Chrome DevTools)

### Документація
- [ ] README.md у `profileV2` оновлено
- [ ] Додано приклади використання ui-contract компонентів
- [ ] Оновлено `docs/architecture/UI_CONTRACT_INTEGRATION_TZ.md`
- [ ] Створено migration guide для інших доменів
- [ ] Оновлено релізні ноти

## Acceptance Criteria (Фаза 1)

- [ ] Токени підключені глобально, теми працюють без регресій
- [ ] Принаймні один ключовий флоу (profile edit) працює на ui-contract
- [ ] E2E тести пройдені на 100%
- [ ] Unit тести пройдені на 100%
- [ ] Продуктивність не погіршилась
- [ ] Документація актуальна
- [ ] Feature-flag дозволяє легко перемикатись між Legacy/V2
- [ ] Немає критичних багів у V2

## Критерії відкату

Якщо виявлено:
- Критичні баги, які блокують роботу користувачів
- Регресії продуктивності > 20%
- Проблеми з accessibility, які не можна швидко виправити
- Конфлікти стилів, які ламають інші частини додатку

Тоді:
1. Вимкнути feature-flag для V2
2. Повернутись до Legacy версії
3. Зафіксувати issues в backlog
4. Виправити проблеми перед наступною спробою

## Sign-off

- [ ] Frontend Lead: _______________
- [ ] QA Lead: _______________
- [ ] Product Owner: _______________
- [ ] Дата: _______________
