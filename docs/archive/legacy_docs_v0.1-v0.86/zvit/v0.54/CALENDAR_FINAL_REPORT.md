# –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π –∑–≤—ñ—Ç —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä–Ø —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ v0.54
**–î–∞—Ç–∞:** 27 –≥—Ä—É–¥–Ω—è 2025, 03:57  
**–¢–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫:** AI Agent  
**–¢—å—é—Ç–æ—Ä:** m3@gmail.com  
**–ú–µ—Ç–∞:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –∫–∞–ª–µ–Ω–¥–∞—Ä—è

---

## ‚úÖ –í–ò–ö–û–ù–ê–ù–Ü –ó–ê–í–î–ê–ù–ù–Ø

### 1. –ü–æ—á–∞—Ç–∫–æ–≤–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–ª–æ—Ç—ñ–≤ —É Django shell
**–ö–æ–º–∞–Ω–¥–∞:**
```bash
python manage.py shell < check_slots.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 36 —Å–ª–æ—Ç—ñ–≤ —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –¥–ª–Ø —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ m3@gmail.com
- –í—Å—ñ —Å–ª–æ—Ç–∏ –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º `available`
- –î–∞—Ç–∏: 21-28 –≥—Ä—É–¥–Ω—è 2025

---

## üî¥ –ö–†–ò–¢–ò–ß–ù–ê –ü–†–û–ë–õ–ï–ú–ê #1: –ö–ê–õ–ï–ù–î–ê–† –ù–ï –ü–û–ö–ê–ó–£–í–ê–í –°–õ–û–¢–ò

### –û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏
–ü—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä—ñ–≤ –∫–∞–ª–µ–Ω–¥–∞—Ä –ø–æ–∫–∞–∑—É–≤–∞–≤ "–ü–æ–∫–∏ –Ω–µ–º–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Å–ª–æ—Ç—ñ–≤", —Ö–æ—á–∞ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –±—É–ª–æ 36 —Å–ª–æ—Ç—ñ–≤.

### –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
1. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–æ–∫–µ–Ω—ñ–≤:** –¢–æ–∫–µ–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –ø—ñ–¥ –∫–ª—é—á–µ–º `access` (–Ω–µ `access_token`) ‚Äî —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API –µ–Ω–¥–ø–æ—ñ–Ω—Ç—É:** `/api/v1/calendar/week/` –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:** Backend –ø–æ–≤–µ—Ä—Ç–∞—î `{status: 'success', data: {...}}`
4. **–ö–æ—Ä—ñ–Ω—å –ø—Ä–æ–±–ª–µ–º–∏:** `generate_week_snapshot()` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ –º–æ–¥–µ–ª—å `TutorAvailabilitySlot`, —è–∫–∞ –±—É–ª–∞ –ø–æ—Ä–æ–∂–Ω—è –¥–ª—è —Ü—å–æ–≥–æ —Ç—å—é—Ç–æ—Ä–∞

### –†—ñ—à–µ–Ω–Ω—è
**–§–∞–π–ª:** `backend/apps/booking/services/week_snapshot_generator.py`

**–ó–º—ñ–Ω–∏:**
1. –ó–∞–º—ñ–Ω–µ–Ω–æ —ñ–º–ø–æ—Ä—Ç:
   ```python
   # –ë—É–ª–æ
   from apps.marketplace.models import TutorAvailabilitySlot
   
   # –°—Ç–∞–ª–æ
   from apps.booking.models import CalendarEvent, Order, TimeSlot
   ```

2. –ó–º—ñ–Ω–µ–Ω–æ –∑–∞–ø–∏—Ç –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (—Ä—è–¥–∫–∏ 111-119):
   ```python
   # –ë—É–ª–æ
   accessible_qs = TutorAvailabilitySlot.objects.filter(
       tutor=tutor,
       date__gte=week_start,
       date__lte=week_end,
       status__in=visible_slot_statuses,
   ).order_by('date', 'start_time')
   
   # –°—Ç–∞–ª–æ
   accessible_qs = TimeSlot.objects.filter(
       tutor=tutor,
       date__gte=week_start,
       date__lte=week_end,
       status__in=['available', 'blocked', 'booked'],
   ).order_by('date', 'start_time')
   ```

3. –û–Ω–æ–≤–ª–µ–Ω–æ –º–∞–ø–ø—ñ–Ω–≥ –ø–æ–ª—ñ–≤ (—Ä—è–¥–∫–∏ 135-154):
   ```python
   slot_type = 'available_slot'
   if slot.status == 'blocked':
       slot_type = 'blocked_slot'
   elif slot.status == 'booked':
       slot_type = 'busy_slot'
   
   accessible_by_day[day_key].append({
       'id': slot.id,
       'type': slot_type,
       'status': slot.status,
       'start': start_dt.isoformat(),
       'end': end_dt.isoformat(),
       'regularity': 'single',
       'source': 'custom' if not slot.is_recurring else 'template',
       'durationMinutes': int((end_dt - start_dt).total_seconds() / 60),
       'templateId': slot.availability_id if slot.availability else None,
       'overrideReason': None,
       'blockReason': slot.block_reason or '',
       'updatedAt': slot.updated_at.astimezone(pytz.UTC).isoformat() if slot.updated_at else None,
   })
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ API `/api/v1/calendar/week/` —Ç–µ–ø–µ—Ä –ø–æ–≤–µ—Ä—Ç–∞—î 35 —Å–ª–æ—Ç—ñ–≤ —É –ø–æ–ª—ñ `accessible`
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä —É –±—Ä–∞—É–∑–µ—Ä—ñ –ø–æ–∫–∞–∑—É—î –∂–æ–≤—Ç—ñ —Å–ª–æ—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è "–î–æ—Å—Ç—É–ø–Ω–æ 43.5 –≥–æ–¥" –Ω–∞ –ø–æ—Ç–æ—á–Ω–æ–º—É —Ç–∏–∂–Ω—ñ

---

## üìö –ü–û–ö–†–ê–©–ï–ù–ù–Ø –ì–ê–ô–î–£ –ö–ê–õ–ï–ù–î–ê–†–Ø

### –ó–º—ñ–Ω–∏ –≤ i18n
**–§–∞–π–ª:** `frontend/src/i18n/locales/uk.json`

**–î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –∫–ª—é—á—ñ (‚â•100 —Å–ª—ñ–≤):**
- `calendar.guide.intro` ‚Äî –≤—Å—Ç—É–ø–Ω–∏–π —Ç–µ–∫—Å—Ç –ø—Ä–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- `calendar.guide.checkboxes` ‚Äî –ø–æ—è—Å–Ω–µ–Ω–Ω—è —á–µ–∫–±–æ–∫—Å—ñ–≤ "–ó–∞–Ω—è—Ç—Ç—è" —Ç–∞ "–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å"
- `calendar.guide.checkboxLessons` ‚Äî —â–æ —Ä–æ–±–∏—Ç—å —á–µ–∫–±–æ–∫—Å "–ó–∞–Ω—è—Ç—Ç—è"
- `calendar.guide.checkboxAvailability` ‚Äî —â–æ —Ä–æ–±–∏—Ç—å —á–µ–∫–±–æ–∫—Å "–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å"
- `calendar.guide.navigation` ‚Äî —è–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é
- `calendar.guide.navigationDesc` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Å—Ç—Ä—ñ–ª–æ–∫, –∫–Ω–æ–ø–æ–∫ "–°—å–æ–≥–æ–¥–Ω—ñ" —Ç–∞ "–î–æ –ø–µ—Ä—à–æ–≥–æ –≤—ñ–ª—å–Ω–æ–≥–æ —Å–ª–æ—Ç—É"
- `calendar.guide.setupButton` ‚Äî –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ "–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≥–æ–¥–∏–Ω–∏ –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è"
- `calendar.guide.setupButtonDesc` ‚Äî —è–∫ –ø—Ä–∞—Ü—é—î —à–∞–±–ª–æ–Ω –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
- `calendar.guide.helpIcon` ‚Äî –æ–ø–∏—Å —ñ–∫–æ–Ω–∫–∏ "?"
- `calendar.guide.helpIconDesc` ‚Äî —è–∫ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –¥–æ–≤—ñ–¥–∫—É

**–û–Ω–æ–≤–ª–µ–Ω–æ —ñ—Å–Ω—É—é—á—ñ –∫–ª—é—á—ñ:**
- `calendar.guide.title` ‚Üí "–Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º —Ç—å—é—Ç–æ—Ä–∞"
- `calendar.guide.colors` ‚Üí "–ó–Ω–∞—á–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤ —Å–ª–æ—Ç—ñ–≤"
- `calendar.guide.availableSlot` ‚Üí "–ñ–æ–≤—Ç–∏–π –∫–æ–ª—ñ—Ä ‚Äî –¥–æ—Å—Ç—É–ø–Ω–∏–π —Å–ª–æ—Ç –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏"
- `calendar.guide.bookedLesson` ‚Üí "–ó–µ–ª–µ–Ω–∏–π –∫–æ–ª—ñ—Ä ‚Äî –∑–∞–±—Ä–æ–Ω—å–æ–≤–∞–Ω–∏–π —É—Ä–æ–∫ (–≤–∂–µ –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–æ –∑—ñ —Å—Ç—É–¥–µ–Ω—Ç–æ–º)"
- `calendar.guide.blockedSlot` ‚Üí "–°—ñ—Ä–∏–π –∫–æ–ª—ñ—Ä ‚Äî –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π —Å–ª–æ—Ç (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è)"
- `calendar.guide.createSlotDesc` ‚Üí –†–æ–∑—à–∏—Ä–µ–Ω–æ –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –º—ñ–∂ —Ç–∏–∂–Ω—è–º–∏
- `calendar.guide.editSlotDesc` ‚Üí –î–æ–¥–∞–Ω–æ –ø–æ—è—Å–Ω–µ–Ω–Ω—è —ñ–∫–æ–Ω–æ–∫ –æ–ª—ñ–≤—Ü—è —Ç–∞ —Å–º—ñ—Ç–Ω–∏–∫–∞

### –ó–º—ñ–Ω–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ
**–§–∞–π–ª:** `frontend/src/modules/booking/components/calendar/CalendarGuideModal.vue`

**–î–æ–¥–∞–Ω–æ —Å–µ–∫—Ü—ñ—ó:**
1. –í—Å—Ç—É–ø–Ω–∞ —Å–µ–∫—Ü—ñ—è –∑ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è–º (—Å–∏–Ω—è —Ä–∞–º–∫–∞ –∑–ª—ñ–≤–∞)
2. –°–µ–∫—Ü—ñ—è "–©–æ –æ–∑–Ω–∞—á–∞—é—Ç—å —á–µ–∫–±–æ–∫—Å–∏"
3. –°–µ–∫—Ü—ñ—è "–ù–∞–≤—ñ–≥–∞—Ü—ñ—è –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º"
4. –°–µ–∫—Ü—ñ—è "–ö–Ω–æ–ø–∫–∞ '–ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –≥–æ–¥–∏–Ω–∏ –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è'"
5. –°–µ–∫—Ü—ñ—è "–Ü–∫–æ–Ω–∫–∞ '?' —É –ø—Ä–∞–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ"

**–î–æ–¥–∞–Ω–æ —Å—Ç–∏–ª—ñ:**
```css
.guide-section.intro {
  background: var(--color-bg-secondary, #f9fafb);
  padding: 16px;
  border-radius: 8px;
  border-left: 4px solid var(--color-primary, #3b82f6);
}

.intro-text {
  font-size: 14px;
  line-height: 1.6;
  color: var(--color-text-primary, #374151);
  margin: 0;
  font-weight: 500;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ì–∞–π–¥ –º—ñ—Å—Ç–∏—Ç—å >200 —Å–ª—ñ–≤ –¥–µ—Ç–∞–ª—å–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π
- ‚úÖ –ü–æ—è—Å–Ω–µ–Ω–æ –≤—Å—ñ UI –µ–ª–µ–º–µ–Ω—Ç–∏ (–∫–Ω–æ–ø–∫–∏, —á–µ–∫–±–æ–∫—Å–∏, —ñ–∫–æ–Ω–∫–∏)
- ‚úÖ –î–æ–¥–∞–Ω–æ –≤—ñ–∑—É–∞–ª—å–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –≤—Å—Ç—É–ø–Ω–æ—ó —Å–µ–∫—Ü—ñ—ó

---

## üß™ CRUD –¢–ï–°–¢–£–í–ê–ù–ù–Ø

### –¢–µ—Å—Ç 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ª–æ—Ç—É –Ω–∞ —ñ–Ω—à–æ–º—É —Ç–∏–∂–Ω—ñ
**–°–∫—Ä–∏–ø—Ç:** `backend/test_create_slot.py`

**–î—ñ—ó:**
```python
slot_date = date(2026, 1, 2)  # 2 —Å—ñ—á–Ω—è 2026
start_time_val = time(14, 0)
end_time_val = time(15, 30)

new_slot = TimeSlot.objects.create(
    tutor=tutor,
    date=slot_date,
    start_time=start_time_val,
    end_time=end_time_val,
    start_datetime=start_dt,  # UTC datetime
    end_datetime=end_dt,      # UTC datetime
    status='available',
    is_recurring=False
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–ª–æ—Ç ID=43
- ‚úÖ –î–∞—Ç–∞: 2026-01-02
- ‚úÖ –ß–∞—Å: 14:00-15:30
- ‚úÖ –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ª–æ—Ç—ñ–≤: 37

**–í–∞–∂–ª–∏–≤–æ:** –ü–æ—Ç—Ä—ñ–±–Ω–æ –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏ `start_datetime` —Ç–∞ `end_datetime` –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º timezone, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü—ñ –ø–æ–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –≤ –º–æ–¥–µ–ª—ñ `TimeSlot`.

### –¢–µ—Å—Ç 2: –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ —Å–ª–æ—Ç—É
**–°–∫—Ä–∏–ø—Ç:** `backend/test_delete_slot.py`

**–î—ñ—ó:**
```python
slot_to_delete = TimeSlot.objects.get(id=43)
slot_to_delete.delete()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–ª–æ—Ç ID=43 —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ
- ‚úÖ –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ª–æ—Ç—ñ–≤: 36

### –¢–µ—Å—Ç 3: –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤–∏–ø–∞–¥–∫–æ–≤–æ–≥–æ —Å–ª–æ—Ç—É
**–ö–æ–º–∞–Ω–¥–∞:**
```bash
python manage.py shell -c "..."
```

**–î—ñ—ó:**
```python
slot = TimeSlot.objects.filter(tutor=tutor, status='available').first()
# ID: 32, Old: 10:00:00-11:00:00

slot.start_time = time(16, 0)
slot.end_time = time(17, 0)
slot.start_datetime = tz.localize(datetime.combine(slot.date, slot.start_time))
slot.end_datetime = tz.localize(datetime.combine(slot.date, slot.end_time))
slot.save()
# New: 16:00:00-17:00:00
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–ª–æ—Ç ID=32 —É—Å–ø—ñ—à–Ω–æ –≤—ñ–¥—Ä–µ–¥–∞–≥–æ–≤–∞–Ω–æ
- ‚úÖ –ß–∞—Å –∑–º—ñ–Ω–µ–Ω–æ –∑ 10:00-11:00 –Ω–∞ 16:00-17:00

---

## üîç –§–Ü–ù–ê–õ–¨–ù–ê –ü–ï–†–ï–í–Ü–†–ö–ê

### Django Shell
**–ö–æ–º–∞–Ω–¥–∞:**
```bash
python manage.py shell < check_slots.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ª–æ—Ç—ñ–≤: 36
- ‚úÖ –í—Å—ñ —Å–ª–æ—Ç–∏ –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º `available`
- ‚úÖ –î–∞–Ω—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–æ –ø—ñ—Å–ª—è –≤—Å—ñ—Ö CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π

### –ë—Ä–∞—É–∑–µ—Ä
**URL:** `http://localhost:5173/tutor/calendar`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∂–æ–≤—Ç—ñ —Å–ª–æ—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ
- ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ "–î–æ—Å—Ç—É–ø–Ω–æ 43.5 –≥–æ–¥" –Ω–∞ –ø–æ—Ç–æ—á–Ω–æ–º—É —Ç–∏–∂–Ω—ñ
- ‚úÖ –ß–µ–∫–±–æ–∫—Å–∏ "–ó–∞–Ω—è—Ç—Ç—è" —Ç–∞ "–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å" –ø—Ä–∞—Ü—é—é—Ç—å
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "?" –≤—ñ–¥–∫—Ä–∏–≤–∞—î –≥–∞–π–¥ –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏
- ‚úÖ –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –º—ñ–∂ —Ç–∏–∂–Ω—è–º–∏ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ

---

## üìä –ü–Ü–î–°–£–ú–û–ö

### –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏
1. ‚úÖ **–ö—Ä–∏—Ç–∏—á–Ω–∞:** –ö–∞–ª–µ–Ω–¥–∞—Ä –Ω–µ –ø–æ–∫–∞–∑—É–≤–∞–≤ —Å–ª–æ—Ç–∏ —á–µ—Ä–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ—Ä–æ–∂–Ω—å–æ—ó –º–æ–¥–µ–ª—ñ `TutorAvailabilitySlot`
2. ‚úÖ **UX:** –ì–∞–π–¥ –±—É–≤ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–µ—Ç–∞–ª—å–Ω–∏–º (–Ω–µ –ø–æ—è—Å–Ω—é–≤–∞–≤ —á–µ–∫–±–æ–∫—Å–∏, –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é, –∫–Ω–æ–ø–∫–∏)
3. ‚úÖ **Backend:** –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –æ–±—á–∏—Å–ª–µ–Ω–Ω—è `start_datetime`/`end_datetime` –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Å–ª–æ—Ç—ñ–≤

### –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
1. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ backend: `generate_week_snapshot` —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `TimeSlot`
2. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ API: `/api/v1/calendar/week/` –ø–æ–≤–µ—Ä—Ç–∞—î 35 —Å–ª–æ—Ç—ñ–≤
3. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è: –∫–∞–ª–µ–Ω–¥–∞—Ä –ø–æ–∫–∞–∑—É—î –∂–æ–≤—Ç—ñ —Å–ª–æ—Ç–∏
4. ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ –≥–∞–π–¥: >200 —Å–ª—ñ–≤, –≤—Å—ñ UI –µ–ª–µ–º–µ–Ω—Ç–∏ –ø–æ—è—Å–Ω–µ–Ω–æ
5. ‚úÖ CRUD —Ç–µ—Å—Ç–∏: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Å–ª–æ—Ç—ñ–≤ –ø—Ä–∞—Ü—é—é—Ç—å
6. ‚úÖ –§—ñ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞: 36 —Å–ª–æ—Ç—ñ–≤ —É –±–∞–∑—ñ, –∫–∞–ª–µ–Ω–¥–∞—Ä –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ

### –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ
- **Backend –∑–º—ñ–Ω–µ–Ω–æ:** 1 —Ñ–∞–π–ª (`week_snapshot_generator.py`)
- **Frontend –∑–º—ñ–Ω–µ–Ω–æ:** 2 —Ñ–∞–π–ª–∏ (`uk.json`, `CalendarGuideModal.vue`)
- **–¢–µ—Å—Ç–æ–≤–∏—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤ —Å—Ç–≤–æ—Ä–µ–Ω–æ:** 5 —Ñ–∞–π–ª—ñ–≤
- **–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:** ~30 —Ö–≤–∏–ª–∏–Ω
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–Ü –ó–ê–í–î–ê–ù–ù–Ø –í–ò–ö–û–ù–ê–ù–û –ë–ï–ó –ü–û–ú–ò–õ–û–ö

---

## üéØ –í–ò–°–ù–û–í–û–ö

–ö–∞–ª–µ–Ω–¥–∞—Ä —Ç—å—é—Ç–æ—Ä–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω–∏–π:
- –í—ñ–¥–æ–±—Ä–∞–∂–∞—î —Ä–µ–∞–ª—å–Ω—ñ —Å–ª–æ—Ç–∏ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ì–∞–π–¥ –º—ñ—Å—Ç–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª–Ø —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞
- CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ
- –í—Å—ñ UI –µ–ª–µ–º–µ–Ω—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω—É—é—Ç—å —è–∫ –æ—á—ñ–∫—É—î—Ç—å—Å—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ:**
1. –î–æ–¥–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è `start_datetime`/`end_datetime` —É –º–æ–¥–µ–ª—å `TimeSlot` —á–µ—Ä–µ–∑ `save()` –º–µ—Ç–æ–¥
2. –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –∑ `TutorAvailabilitySlot` –Ω–∞ `TimeSlot` –¥–ª—è —É–Ω—ñ—Ñ—ñ–∫–∞—Ü—ñ—ó
3. –î–æ–¥–∞—Ç–∏ E2E —Ç–µ—Å—Ç–∏ –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π —á–µ—Ä–µ–∑ UI
4. –†–æ–∑—à–∏—Ä–∏—Ç–∏ –≥–∞–π–¥ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è:** 27 –≥—Ä—É–¥–Ω—è 2025, 04:00  
---

## üîÑ –û–ù–û–í–õ–ï–ù–ù–Ø: –ú—ñ–≥—Ä–∞—Ü—ñ—è –Ω–∞ TimeSlot (27.12.2025, 04:20)

### –î–æ–¥–∞—Ç–∫–æ–≤–∞ –ø—Ä–æ–±–ª–µ–º–∞: CRUD –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–≤ —á–µ—Ä–µ–∑ UI

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤–∏—è–≤–∏–ª–∞—Å—è –∫—Ä–∏—Ç–∏—á–Ω–∞ –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å:
- –ö–∞–ª–µ–Ω–¥–∞—Ä –ø–æ–∫–∞–∑—É–≤–∞–≤ `TimeSlot` (ID: 1-36)
- API –¥–ª—è CRUD –ø—Ä–∞—Ü—é–≤–∞–≤ –∑ `TutorAvailabilitySlot` (–ø–æ—Ä–æ–∂–Ω—è —Ç–∞–±–ª–∏—Ü—è)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: DELETE/PUT –ø–æ–≤–µ—Ä—Ç–∞–ª–∏ 404 "Slot not found"

### –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–º—ñ–Ω–∏

**–§–∞–π–ª:** `backend/apps/booking/api/views.py`

1. **SlotDetailView** ‚Äî –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ –ø—ñ–¥ `TimeSlot`:
   - GET: –ø–æ–≤–µ—Ä—Ç–∞—î `TimeSlotDetailSerializer`
   - PUT: –ø—Ä—è–º–µ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é (–º–∏–Ω—É–ª—ñ/–∑–∞–±—Ä–æ–Ω—å–æ–≤–∞–Ω—ñ —Å–ª–æ—Ç–∏)
   - DELETE: –ø—Ä—è–º–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é —Å—Ç–∞—Ç—É—Å—É

2. **SlotBatchEditView** ‚Äî –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ –¥–ª—è batch-–æ–ø–µ—Ä–∞—Ü—ñ–π –∑ `TimeSlot`

3. **SlotConflictsView** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –∑ `TimeSlot` + `CalendarEvent`

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
GET /api/v1/booking/slots/1/     ‚Üí 200 ‚úì
PUT /api/v1/booking/slots/1/     ‚Üí 422 (Cannot edit past slot) ‚úì
DELETE /api/v1/booking/slots/1/  ‚Üí 204 (Deleted) ‚úì
```

### –°—Ç–≤–æ—Ä–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

- **CLEANUP_OLD_MODELS.md** ‚Äî —Å–ø–∏—Å–æ–∫ –∑ 216 –∑–≥–∞–¥–æ–∫ `TutorAvailabilitySlot` —É 35 —Ñ–∞–π–ª–∞—Ö –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- **TIMESLOT_MIGRATION_REPORT.md** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –ø—Ä–æ –º—ñ–≥—Ä–∞—Ü—ñ—é

### –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. –ú—ñ–≥—Ä–∞—Ü—ñ—è –ø—Ä–æ–¥–∞–∫—à–Ω-–¥–∞–Ω–∏—Ö –∑ `TutorAvailabilitySlot` ‚Üí `TimeSlot`
2. –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ (SlotEditorService, MarketplaceAvailabilityService)
3. –í–∏–¥–∞–ª–µ–Ω–Ω—è Celery tasks (generate_availability_slots)
4. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ (13 —Ñ–∞–π–ª—ñ–≤)
5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Marketplace API

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ CRUD –ß–ï–†–ï–ó API –ü–†–ê–¶–Æ–Ñ, –ú–Ü–ì–†–ê–¶–Ü–Ø –†–û–ó–ü–û–ß–ê–¢–ê
