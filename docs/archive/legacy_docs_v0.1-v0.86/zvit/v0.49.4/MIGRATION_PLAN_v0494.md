# üöÄ Frontend Migration Plan v0.49.4 ‚Äî Execution Log

**–î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É:** 24.12.2024  
**–ê–≥–µ–Ω—Ç:** Frontend v0.49.4  
**–°—Ç–∞—Ç—É—Å:** üî¥ IN PROGRESS

---

## üìã –ö–æ–Ω—Ç—Ä–∞–∫—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

–Ø, Frontend-–∞–≥–µ–Ω—Ç v0.49.4, –∑–æ–±–æ–≤'—è–∑—É—é—Å—å:

1. ‚úÖ –í–∏–∫–æ–Ω–∞—Ç–∏ –í–°–Ü –∑–∞–≤–¥–∞–Ω–Ω—è –∑–≥—ñ–¥–Ω–æ –∑ LEGACY_CALENDAR_CLEANUP.md
2. ‚úÖ –ù–µ –∑–≤—ñ—Ç—É–≤–∞—Ç–∏ "–≥–æ—Ç–æ–≤–æ" –±–µ–∑ –ø–æ–≤–Ω–æ–≥–æ DoD
3. ‚úÖ –ù–µ –∑–∞–ª–∏—à–∞—Ç–∏ legacy –∫–æ–¥
4. ‚úÖ –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç–∏ –ø–µ—Ä–∏—Ñ–µ—Ä—ñ–π–Ω—ñ –º–æ–¥—É–ª—ñ
5. ‚úÖ –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω –µ—Ç–∞–ø

---

## üéØ –ü–ª–∞–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### –ï—Ç–∞–ø 1: TypeCheck Fixes (–ö–†–ò–¢–ò–ß–ù–û)
**–°—Ç–∞—Ç—É—Å:** üî¥ TODO

#### 1.1 CatalogFilterBar.vue
- [ ] –í–∏–ø—Ä–∞–≤–∏—Ç–∏ subject/language emit –Ω–∞ –º–∞—Å–∏–≤–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ typecheck

#### 1.2 marketplaceStore.ts
- [ ] –ó–º—ñ–Ω–∏—Ç–∏ total_pages –Ω–∞ totalPages
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ typecheck

#### 1.3 MatchList.vue
- [ ] –î–æ–¥–∞—Ç–∏ type assertion –¥–ª—è tab.key
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ typecheck

#### 1.4 websocket.ts
- [ ] –ó–º—ñ–Ω–∏—Ç–∏ authStore.token –Ω–∞ authStore.access
- [ ] –í–∏–ø—Ä–∞–≤–∏—Ç–∏ refreshToken logic
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ typecheck

**Acceptance:** `npm run typecheck` –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

---

### –ï—Ç–∞–ø 2: –ú—ñ–≥—Ä–∞—Ü—ñ—è –ø–µ—Ä–∏—Ñ–µ—Ä—ñ–π–Ω–∏—Ö –º–æ–¥—É–ª—ñ–≤
**–°—Ç–∞—Ç—É—Å:** üî¥ TODO

#### 2.1 TutorCalendarWidget.vue (Marketplace)
- [ ] –ó–∞–º—ñ–Ω–∏—Ç–∏ CalendarCell –Ω–∞ AccessibleSlot
- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ calendarWeekApi
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è

#### 2.2 AvailabilityEditor.vue
- [ ] –ó–∞–º—ñ–Ω–∏—Ç–∏ useCalendarStore –Ω–∞ calendarWeekStore
- [ ] –ê–ë–û —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º–∏–π availability API
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è

#### 2.3 BookingRequestsView.vue
- [ ] –ó–∞–º—ñ–Ω–∏—Ç–∏ calendarStore.loadWeekView –Ω–∞ calendarWeekStore.fetchWeek
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Ç—ñ–≤

#### 2.4 BookLessonView.vue
- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—É–±–ª—ñ—á–Ω–∏–π availability API
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ booking flow

#### 2.5 WebSocket Service (websocket.ts)
- [ ] –ó–∞–º—ñ–Ω–∏—Ç–∏ calendarStore.updateSlotStatus –Ω–∞ calendarWeekStore handlers
- [ ] –¢–µ—Å—Ç—É–≤–∞—Ç–∏ realtime updates

#### 2.6 –Ü–Ω—à—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- [ ] SlotPicker.vue
- [ ] ExceptionManager.vue
- [ ] BookingSettings.vue
- [ ] DraftToolbar.vue (–≤–∏–¥–∞–ª–∏—Ç–∏ –ø—ñ—Å–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó)

**Acceptance:** –í—Å—ñ –º–æ–¥—É–ª—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç—ñ–ª—å–∫–∏ calendarWeekStore/calendarWeekApi

---

### –ï—Ç–∞–ø 3: –í–∏–¥–∞–ª–µ–Ω–Ω—è Legacy –∫–æ–¥—É
**–°—Ç–∞—Ç—É—Å:** üî¥ TODO

#### 3.1 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç–∏ grep –Ω–∞ –≤—Å—ñ legacy —ñ–º–ø–æ—Ä—Ç–∏
- [ ] –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ —â–æ –∂–æ–¥–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î legacy

#### 3.2 –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
```bash
rm src/modules/booking/api/calendarApi.ts
rm src/modules/booking/stores/calendarStore.ts
rm src/modules/booking/stores/draftStore.ts
rm src/modules/booking/types/calendar.ts
rm src/modules/booking/composables/useCalendar.ts
rm src/modules/booking/components/calendar/CalendarCellGrid.vue
rm src/modules/booking/components/calendar/DraftToolbar.vue
```

#### 3.3 –û–Ω–æ–≤–ª–µ–Ω–Ω—è exports
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ legacy exports –∑ src/modules/booking/index.ts

**Acceptance:** –ñ–æ–¥–Ω–æ–≥–æ legacy —Ñ–∞–π–ª—É –Ω–µ –∑–∞–ª–∏—à–∏–ª–æ—Å—è

---

### –ï—Ç–∞–ø 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
**–°—Ç–∞—Ç—É—Å:** üî¥ TODO

#### 4.1 –¢–µ—Ö–Ω—ñ—á–Ω—ñ —Ç–µ—Å—Ç–∏
- [ ] `npm run typecheck` ‚Äî –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] `npm run build` ‚Äî —É—Å–ø—ñ—à–Ω–∏–π
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ bundle size

#### 4.2 –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏
- [ ] –°—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å
- [ ] –°—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ booking request
- [ ] –¢—å—é—Ç–æ—Ä –æ—Ç—Ä–∏–º—É—î –∑–∞–ø–∏—Ç —á–µ—Ä–µ–∑ WebSocket
- [ ] –¢—å—é—Ç–æ—Ä –º–æ–∂–µ –ø—Ä–∏–π–Ω—è—Ç–∏/–≤—ñ–¥—Ö–∏–ª–∏—Ç–∏
- [ ] –ö–æ–Ω—Ç–∞–∫—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è

#### 4.3 UI/UX —Ç–µ—Å—Ç–∏
- [ ] –ú–æ–≤–Ω–∞ –ø–æ–ª—ñ—Ç–∏–∫–∞ (uk/en)
- [ ] Responsive –Ω–∞ mobile/tablet
- [ ] –í—Å—ñ –∫–Ω–æ–ø–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å
- [ ] –ú–æ–¥–∞–ª–∫–∏ –≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å—Å—è/–∑–∞–∫—Ä–∏–≤–∞—é—Ç—å—Å—è
- [ ] Toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è

#### 4.4 WebSocket —Ç–µ—Å—Ç–∏
- [ ] –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ /ws/v1/calendar/
- [ ] Ping/pong –ø—Ä–∞—Ü—é—î
- [ ] Event notifications –¥–æ—Ö–æ–¥—è—Ç—å
- [ ] Reconnect –ø—Ä–∞—Ü—é—î

**Acceptance:** –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å

---

## üìä –ü—Ä–æ–≥—Ä–µ—Å

- [ ] –ï—Ç–∞–ø 1: TypeCheck Fixes (0/4)
- [ ] –ï—Ç–∞–ø 2: –ú—ñ–≥—Ä–∞—Ü—ñ—è –º–æ–¥—É–ª—ñ–≤ (0/6)
- [ ] –ï—Ç–∞–ø 3: –í–∏–¥–∞–ª–µ–Ω–Ω—è legacy (0/3)
- [ ] –ï—Ç–∞–ø 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (0/4)

**–ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å:** 0%

---

## üö® –ö—Ä–∏—Ç–∏—á–Ω—ñ –±–ª–æ–∫–µ—Ä–∏

(–ü–æ–∫–∏ –Ω–µ–º–∞—î)

---

## üìù –õ–æ–≥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### 24.12.2024 20:59
- –°—Ç–≤–æ—Ä–µ–Ω–æ –ø–ª–∞–Ω –º—ñ–≥—Ä–∞—Ü—ñ—ó
- –ü—Ä–æ—á–∏—Ç–∞–Ω–æ –≤—Å—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
- –ì–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

---

**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:** –ï—Ç–∞–ø 1.1 ‚Äî –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è CatalogFilterBar.vue
