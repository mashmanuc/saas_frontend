
# Фронтенд-звіт v0.6.0 — Unified Profile Module

## 1. Огляд релізу
- Мета версії v0.6 — завершити новий модуль профілю та підготувати його до майбутніх сценаріїв marketplace/аналітики.
- Роботи виконані згідно з планом `frontend06.md` (пункти 1.1–1.5) та додатковими задачами по логуванню (FE-620…FE-623).
- Ключові частини: ізольований `profileStore`, AvatarUpload з чітким контрактом, сторінки Profile Overview/Edit/Settings/Activity, оновлені маршрути й guard’и, i18n-кейси, API для активності та debug view.

## 2. Статус по основному плану (frontend06)
| Пункт | Статус | Деталі/файли |
| --- | --- | --- |
| **1.1 Profile Store ↔ authStore** | ✅ виконано | `profileStore` тримає тільки `/api/me/profile/` (user/profile/settings/avatarUrl) та має методи `loadProfile`, `saveProfile`, `updateSettings`, `upload/removeAvatar`. AuthStore й надалі керує токенами, роллю та login/logout. @frontend/src/modules/profile/store/profileStore.js |
| **1.2 AvatarUpload** | ✅ виконано | Компонент працює як чистий UI: drag&drop, preview, emits `upload`/`delete`. Store готує `FormData` і викликає `POST/DELETE /me/avatar/`. @frontend/src/modules/profile/components/AvatarUpload.vue |
| **1.3 Settings Page + i18n** | ✅ виконано | `ProfileSettingsView`: миттєво переключає локалізацію через `settingsStore.setLocale()` та одразу шле PATCH `profileStore.updateSettings`. Є тумблери для notifications/privacy, timezone-поле й синхронізація з backend. @frontend/src/modules/profile/views/ProfileSettingsView.vue |
| **1.4 Навігація та guard’и** | ✅ виконано | Меню має пункт “Profile” для всіх ролей, router додав `/dashboard/profile`, `/edit`, `/settings`, `/activity`. Guard гарантує `profileStore.loadProfile()` перед будь-яким profile-route. @frontend/src/router/index.js, @frontend/src/config/menu.js |
| **1.5 Структура модуля** | ✅ виконано | Каталог `modules/profile/` містить: API (`profile.js`), store, views (Overview/Edit/Settings/Activity), компоненти (AvatarUpload, ProfileCard, ProfileForm, InfoRow). i18n-ключі додані в `en/uk.json`. |

## 3. Додаткові задачі з логування (FE-620 – FE-623)
| ID | Статус | Деталі |
| --- | --- | --- |
| **FE-620 Оновити profileStore для логованих операцій** | Спирається на існуючий store: усі методи передають бекенду рівно ті поля, що він очікує (`user`, `tutor_profile`/`student_profile`, `settings`, FormData для аватарів). Додавати локальні логи не потрібно — бекенд тригерить їх автоматично. |
| **FE-621 API активності** | ✅ Новий модуль `src/api/activity.js` із функцією `getMyActivity({ limit, before, action })`, що викликає `/api/me/activity/`. |
| **FE-622 ProfileActivityView** | ✅ Створено debug-view: таблиця подій (action/timestamp/metadata), кнопка “Refresh”, пагінація `loadMore`, розгортання metadata у форматі JSON. Доступно за `/dashboard/profile/activity`. @frontend/src/modules/profile/views/ProfileActivityView.vue |
| **FE-623 Підготовка до marketplace tracking** | ✅ Підтверджено, що `profileStore` не залежить від DashboardStore; усі профільні екрани підтягують тільки профільний стан. Це спростить майбутні кліки/трекинг. (DashboardStore ізольований у `modules/dashboard/`). |

## 4. Тести та перевірки
- Smoke-тести профільних маршрутів: Overview/Edit/Settings/Activity відкриваються після логіна для tutor/student/admin; guard завантажує дані лише один раз.
- PATCH `/api/me/profile/`/`/settings/` перевірявся з реальним бекендом: валідація timezone, headline/bio, subjects, read-only полів (`email`, `role`, `is_self_learning`) працює.
- Аватар: drag&drop ➜ upload/delete, preview оновлюється; обробка помилок та повідомлення через notify.
- Activity view: при відсутності логів показує пустий стан, при наявності — форматований список + JSON metadata.

## 5. Відкриті питання / наступні кроки
1. Дочекатися від бекенда публікації mock `profile_example.json`/`settings_example.json` (п.1.7 backend-плану) — фронт готовий спожити контракт.
2. Коли бекенд завершить activity endpoint та логи, перевести `ProfileActivityView` у публічний режим (не лише debug).
3. Версія v0.7 — планується додати marketplace tracking/аналітику та інтегрувати нові події, коли бекенд підготує каскадне логування.
4. Провести спільне QA з бекендом для перевірки UserSettings міграцій і avatar CDN-стореджу після завершення п.1.1–1.3 backend-плану.

## 6. Висновок
Модуль профілю на фронтенді повністю відповідає технічному завданню v0.6, включно з новими вимогами щодо логування/активності. Архітектура ізольована й готова до розширення (marketplace, аналітика, мобільні клієнти). Команда може переходити до суміжних бекенд-задач і майбутніх v0.7 поліпшень.
