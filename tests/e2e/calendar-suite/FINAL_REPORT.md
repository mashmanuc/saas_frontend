# Calendar E2E Tests - –§—ñ–Ω–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¢–ó

**–î–∞—Ç–∞**: 5 —Å—ñ—á–Ω—è 2026, 13:50  
**–ú–µ—Ç–∞**: –î–æ–≤–µ—Å—Ç–∏ createLesson.spec.ts –¥–æ 100% —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ (3 —É—Å–ø—ñ—à–Ω—ñ –ø—Ä–æ–≥–æ–Ω–∏ –ø—ñ–¥—Ä—è–¥)  
**–°—Ç–∞—Ç—É—Å**: ‚ùå **–ù–ï –î–û–°–Ø–ì–ù–£–¢–û** —á–µ—Ä–µ–∑ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –±–ª–æ–∫–µ—Ä–∏

---

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è

### 1. –î–æ–¥–∞–Ω–æ data-testid –¥–ª—è GridLayer ‚úÖ
**–§–∞–π–ª**: `src/modules/booking/components/calendar/layers/GridLayer.vue:7`

```vue
<div 
  v-for="hour in hours" 
  :key="hour"
  class="grid-hour"
  :data-testid="'grid-hour-' + hour"
  ...
>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ö–æ–∂–Ω–∞ –≥–æ–¥–∏–Ω–∞ –≤ GridLayer —Ç–µ–ø–µ—Ä –º–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π `data-testid="grid-hour-14"`, `data-testid="grid-hour-15"` —Ç–æ—â–æ.

---

### 2. –°—Ç–≤–æ—Ä–µ–Ω–æ helper –∑ retry –ª–æ–≥—ñ–∫–æ—é ‚úÖ
**–§–∞–π–ª**: `tests/e2e/calendar-suite/createLesson.spec.ts:90-221`

**–§—É–Ω–∫—Ü—ñ—è**: `openCreateLessonModal(page)`

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ**:
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —â–æ –∫–∞–ª–µ–Ω–¥–∞—Ä –ù–ï –≤ availability-mode
- ‚úÖ –®—É–∫–∞—î –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ grid-hour —á–µ—Ä–µ–∑ data-testid
- ‚úÖ –ü–µ—Ä–µ–±–∏—Ä–∞—î –≥–æ–¥–∏–Ω–∏ 14, 15, 16, 13, 12, 11, 10
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä—è—î is-disabled —Ç–∞ is-past –∫–ª–∞—Å–∏
- ‚úÖ Retry –¥–æ 3 —Å–ø—Ä–æ–± –∑ –ª–æ–≥—É–≤–∞–Ω–Ω—è–º –∫–æ–∂–Ω–æ–≥–æ –∫—Ä–æ–∫—É
- ‚úÖ Fallback –Ω–∞ page.evaluate() –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤–∏–∫–ª–∏–∫—É Vue –º–µ—Ç–æ–¥—ñ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤

**–ö–æ–¥**:
```typescript
async function openCreateLessonModal(page: any): Promise<boolean> {
  const MAX_RETRIES = 3
  
  for (let attempt = 1; attempt <= MAX_RETRIES; attempt++) {
    console.log(`[openCreateLessonModal] Attempt ${attempt}/${MAX_RETRIES}`)
    
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ availability-mode
    const gridLayer = page.locator('.grid-layer').first()
    const hasAvailabilityMode = await gridLayer.evaluate(...)
    
    if (hasAvailabilityMode) {
      console.error('[openCreateLessonModal] Calendar is in availability-mode')
      return false
    }
    
    // –ü–æ—à—É–∫ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–∏—Ö grid-hour —á–µ—Ä–µ–∑ data-testid
    const dayColumns = page.locator('.day-column')
    const dayCount = await dayColumns.count()
    
    for (let dayIndex = 0; dayIndex < dayCount && !clicked; dayIndex++) {
      for (const hour of targetHours) {
        const gridHour = dayColumns.nth(dayIndex).locator(`[data-testid="grid-hour-${hour}"]`)
        // ... –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ –∫–ª—ñ–∫
      }
    }
    
    // Fallback —á–µ—Ä–µ–∑ page.evaluate()
    if (attempt === MAX_RETRIES) {
      await page.evaluate(() => {
        const calendarEl = document.querySelector('[data-testid="calendar-week-view"]')
        // –ü—Ä—è–º–∏–π –≤–∏–∫–ª–∏–∫ Vue –º–µ—Ç–æ–¥—É handleCellClick
      })
    }
  }
}
```

---

### 3. –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É availability-mode ‚úÖ
**–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è**: –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ `openCreateLessonModal`

```typescript
const hasAvailabilityMode = await gridLayer.evaluate((el: HTMLElement) => 
  el.classList.contains('availability-mode')
).catch(() => false)

if (hasAvailabilityMode) {
  console.error('[openCreateLessonModal] Calendar is in availability-mode, cannot create lesson')
  return false
}
```

---

### 4. –£–≤—ñ–º–∫–Ω–µ–Ω–æ validation —Ç–µ—Å—Ç ‚úÖ
**–§–∞–π–ª**: `tests/e2e/calendar-suite/createLesson.spec.ts:322`

Validation —Ç–µ—Å—Ç –±—ñ–ª—å—à–µ –Ω–µ –º–∞—î `.skip()`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–æ–π —Å–∞–º–∏–π `openCreateLessonModal` helper.

---

### 5. –°—Ç–≤–æ—Ä–µ–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è availability ‚úÖ
**–§–∞–π–ª**: `tests/e2e/calendar-suite/createLesson.spec.ts:20-73`

**–§—É–Ω–∫—Ü—ñ—è**: `ensureAvailability(page)`

**–ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ**:
- –°—Ç–≤–æ—Ä—é—î weekly schedule —á–µ—Ä–µ–∑ `/api/booking/availability/bulk/`
- –ß–µ–∫–∞—î –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è Celery job (–¥–æ 30 —Å–µ–∫—É–Ω–¥)
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î –ø–æ—è–≤—É —Å–ª–æ—Ç—ñ–≤ —á–µ—Ä–µ–∑ `/api/v1/calendar/week/v055/`
- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤

---

## ‚ùå –¢–µ—Ö–Ω—ñ—á–Ω—ñ –±–ª–æ–∫–µ—Ä–∏ (–ø—Ä–∏—á–∏–Ω–∏ –Ω–µ–≤–∏–∫–æ–Ω–∞–Ω–Ω—è)

### –ë–ª–æ–∫–µ—Ä #1: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å bootstrap –¥–∞–Ω–∏—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞–ª–µ–Ω–¥–∞—Ä –ø–æ–∫–∞–∑—É—î empty state "–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞"

**–°–ø—Ä–æ–±–∏ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è**:
1. ‚ùå –°—Ç–≤–æ—Ä–µ–Ω–Ω—è availability —á–µ—Ä–µ–∑ API `/api/booking/availability/bulk/`
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: 401 Authentication required (page.request –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î auth state)
   - –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è: –î–æ–¥–∞–Ω–æ baseURL –¥–æ –∑–∞–ø–∏—Ç—ñ–≤
   - –ù–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: Availability —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è, –∞–ª–µ Celery job –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

2. ‚ùå –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Debug UI
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: Debug –∫–Ω–æ–ø–∫–∞ –Ω–µ –º–∞—î —Ñ—É–Ω–∫—Ü—ñ—ó —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

3. ‚ùå –û—á—ñ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ Celery job (–¥–æ 30 —Å–µ–∫—É–Ω–¥)
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–ª–æ—Ç–∏ –Ω–µ –∑'—è–≤–ª—è—é—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è 30 —Å–µ–∫—É–Ω–¥ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è

**–í–∏—Å–Ω–æ–≤–æ–∫**: –ü–æ—Ç—Ä—ñ–±–µ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π —Å–ø–æ—Å—ñ–± —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è availability –∞–±–æ –≥–æ—Ç–æ–≤—ñ bootstrap —Å–∫—Ä–∏–ø—Ç–∏.

---

### –ë–ª–æ–∫–µ—Ä #2: Async Celery jobs
**–ü—Ä–æ–±–ª–µ–º–∞**: `/api/booking/availability/bulk/` —Å—Ç–≤–æ—Ä—é—î async job –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Å–ª–æ—Ç—ñ–≤

**–ö–æ–¥ –∑ backend**:
```python
# apps/booking/api/views.py:466
generate_availability_slots_async.delay(
    tutor_id=request.user.id,
    job_id=job.id,
    horizon_days=14
)
```

**–ù–∞—Å–ª—ñ–¥–æ–∫**: –°–ª–æ—Ç–∏ –Ω–µ –∑'—è–≤–ª—è—é—Ç—å—Å—è –æ–¥—Ä–∞–∑—É, –ø–æ—Ç—Ä—ñ–±–Ω–æ —á–µ–∫–∞—Ç–∏ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è Celery task.

**–°–ø—Ä–æ–±–∏ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è**:
- Polling week snapshot –∫–æ–∂–Ω—ñ 2 —Å–µ–∫—É–Ω–¥–∏ (–¥–æ 30 —Å–µ–∫—É–Ω–¥)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: Timeout, —Å–ª–æ—Ç–∏ –Ω–µ –∑'—è–≤–ª—è—é—Ç—å—Å—è

**–í–∏—Å–Ω–æ–≤–æ–∫**: –î–ª—è E2E —Ç–µ—Å—Ç—ñ–≤ –ø–æ—Ç—Ä—ñ–±–µ–Ω –∞–±–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π endpoint, –∞–±–æ –º–µ—Ö–∞–Ω—ñ–∑–º –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è job.

---

### –ë–ª–æ–∫–µ—Ä #3: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–∞–≤—ñ—Ç—å —è–∫—â–æ availability —Å—Ç–≤–æ—Ä–µ–Ω–∞, –Ω–µ–º–∞—î —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –¥–ª—è –≤–∏–±–æ—Ä—É –≤ –º–æ–¥–∞–ª—Ü—ñ

**–°–ø—Ä–æ–±–∏ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è**: –ù–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ (–±–ª–æ–∫–µ—Ä #1 –Ω–µ –¥–æ–∑–≤–æ–ª–∏–≤ –¥—ñ–π—Ç–∏ –¥–æ —Ü—å–æ–≥–æ –µ—Ç–∞–ø—É)

**–í–∏—Å–Ω–æ–≤–æ–∫**: –ü–æ—Ç—Ä—ñ–±–µ–Ω bootstrap —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤.

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ 1-10: FAILED
```
Error: Calendar did not load: no API response and no UI content
Reason: Empty state —á–µ—Ä–µ–∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å availability
```

### –ó–∞–ø—É—Å–∫ 11-15: FAILED
```
Error: Failed to open CreateLessonModal after all retries
Reason: Availability —Å—Ç–≤–æ—Ä–µ–Ω–∞, –∞–ª–µ —Å–ª–æ—Ç–∏ –Ω–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ (Celery job –Ω–µ –∑–∞–≤–µ—Ä—à–∏–≤—Å—è)
```

### –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç: ‚úÖ PASSED
```
Test: Calendar loads and shows either content or empty state
Result: ‚úì Calendar UI loaded
Status: ‚ö† Unknown calendar state (no day columns, no empty state message)
```

---

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –∑–º—ñ–Ω–∏

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω –∫–æ–¥
1. **GridLayer.vue** - –¥–æ–¥–∞–Ω–æ `data-testid` –¥–ª—è –∫–æ–∂–Ω–æ—ó –≥–æ–¥–∏–Ω–∏
   - –§–∞–π–ª: `src/modules/booking/components/calendar/layers/GridLayer.vue:7`
   - –ó–º—ñ–Ω–∞: `:data-testid="'grid-hour-' + hour"`

### –¢–µ—Å—Ç–æ–≤–∏–π –∫–æ–¥
1. **createLesson.spec.ts** - –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ
   - –î–æ–¥–∞–Ω–æ `openCreateLessonModal` –∑ retry –ª–æ–≥—ñ–∫–æ—é
   - –î–æ–¥–∞–Ω–æ `ensureAvailability` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
   - –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É availability-mode
   - –£–≤—ñ–º–∫–Ω–µ–Ω–æ validation —Ç–µ—Å—Ç
   - –ü–æ–∫—Ä–∞—â–µ–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è

2. **createLesson-MINIMAL.spec.ts** - —Å—Ç–≤–æ—Ä–µ–Ω–æ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–∏–π —Ç–µ—Å—Ç
   - –ü–µ—Ä–µ–≤—ñ—Ä—è—î –±–∞–∑–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
   - –ü—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å –±–µ–∑ availability

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è 100% —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ

### –ö–æ—Ä–æ—Ç–∫–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (P0)
1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ bootstrap —Å–∫—Ä–∏–ø—Ç–∏**
   - `bootstrap-availability.js` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è weekly schedule
   - `bootstrap-students.js` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∑ –±–∞–ª–∞–Ω—Å–æ–º
   - –ó–∞–ø—É—Å–∫–∞—Ç–∏ –ø–µ—Ä–µ–¥ E2E —Ç–µ—Å—Ç–∞–º–∏

2. **–î–æ–¥–∞—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π endpoint –¥–ª—è —Ç–µ—Å—Ç—ñ–≤**
   ```python
   # apps/booking/api/views.py
   class AvailabilityBulkSyncView(APIView):
       """–°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –≤–µ—Ä—Å—ñ—è –¥–ª—è E2E —Ç–µ—Å—Ç—ñ–≤"""
       def post(self, request):
           # –°—Ç–≤–æ—Ä–∏—Ç–∏ availability
           # –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–ª–æ—Ç–∏
           # –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   ```

3. **–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ E2E_DISABLE_RATE_LIMIT flag**
   - –î–æ–¥–∞—Ç–∏ –≤ backend –ø–µ—Ä–µ–≤—ñ—Ä–∫—É env variable
   - –í–∏–º–∏–∫–∞—Ç–∏ rate limiting –¥–ª—è E2E —Ç–µ—Å—Ç—ñ–≤

### –°–µ—Ä–µ–¥–Ω—å–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (P1)
1. **–ü–æ–∫—Ä–∞—â–∏—Ç–∏ helper —Ñ—É–Ω–∫—Ü—ñ—ó**
   - –î–æ–¥–∞—Ç–∏ polling –¥–ª—è Celery job status
   - –î–æ–¥–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ —á–µ—Ä–µ–∑ API
   - –î–æ–¥–∞—Ç–∏ cleanup –ø—ñ—Å–ª—è —Ç–µ—Å—Ç—ñ–≤

2. **–†–æ–∑–¥—ñ–ª–∏—Ç–∏ —Ç–µ—Å—Ç–∏ –Ω–∞ –æ–∫—Ä–µ–º—ñ —Ñ–∞–π–ª–∏**
   - `createLesson-happy-path.spec.ts`
   - `createLesson-validation.spec.ts`
   - –ü–æ–≤–Ω–∞ —ñ–∑–æ–ª—è—Ü—ñ—è –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏

### –î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤—ñ (P2)
1. **–°—Ç–≤–æ—Ä–∏—Ç–∏ dedicated test environment**
   - –û–∫—Ä–µ–º–∏–π backend –¥–ª—è E2E –∑ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
   - –®–≤–∏–¥–∫—ñ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ endpoints
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π cleanup

2. **–î–æ–¥–∞—Ç–∏ visual regression testing**
   - Screenshot –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –¥–ª—è –º–æ–¥–∞–ª–æ–∫
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ UI —Å—Ç–∞–Ω—É

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

| –ó–∞–≤–¥–∞–Ω–Ω—è | –°—Ç–∞—Ç—É—Å | –ß–∞—Å | –ö–æ–º–µ–Ω—Ç–∞—Ä |
|----------|--------|-----|----------|
| –î–æ–¥–∞—Ç–∏ data-testid | ‚úÖ | 5 —Ö–≤ | –í–∏–∫–æ–Ω–∞–Ω–æ –ø–æ–≤–Ω—ñ—Å—Ç—é |
| –°—Ç–≤–æ—Ä–∏—Ç–∏ helper –∑ retry | ‚úÖ | 30 —Ö–≤ | –í–∏–∫–æ–Ω–∞–Ω–æ –∑ fallback |
| –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ availability-mode | ‚úÖ | 10 —Ö–≤ | –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ helper |
| –£–≤—ñ–º–∫–Ω—É—Ç–∏ validation —Ç–µ—Å—Ç | ‚úÖ | 5 —Ö–≤ | –í–∏–∫–æ–Ω–∞–Ω–æ |
| –ó–∞–ø—É—Å–∫ 1 | ‚ùå | 2 —Ö–≤ | Empty state |
| –ó–∞–ø—É—Å–∫ 2 | ‚ùå | 2 —Ö–≤ | Empty state |
| –ó–∞–ø—É—Å–∫ 3 | ‚ùå | 2 —Ö–≤ | Empty state |
| **–ó–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å** | - | **2 –≥–æ–¥** | –ë–ª–æ–∫–µ—Ä–∏ –Ω–µ –≤–∏—Ä—ñ—à–µ–Ω—ñ |

---

## üéØ –í–∏—Å–Ω–æ–≤–æ–∫

**–í–∏–∫–æ–Ω–∞–Ω–æ —Ç–µ—Ö–Ω—ñ—á–Ω–æ**: 100% –≤–∏–º–æ–≥ –¢–ó —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –≤ –∫–æ–¥—ñ  
**–í–∏–∫–æ–Ω–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ**: 0% - —Ç–µ—Å—Ç–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç—å —á–µ—Ä–µ–∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

**–û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞**: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –º–µ—Ö–∞–Ω—ñ–∑–º—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (availability + students)

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏**:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ bootstrap —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è availability —Ç–∞ students
2. –ê–±–æ –¥–æ–¥–∞—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π endpoint –¥–ª—è E2E —Ç–µ—Å—Ç—ñ–≤
3. –ê–±–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Celery –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤ test mode
4. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ –∑–∞–ø—É—Å–∫–∏ —Ç–µ—Å—Ç—ñ–≤

**–ö–æ–¥ –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**: –Ø–∫ —Ç—ñ–ª—å–∫–∏ –∑'—è–≤–ª—è—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ, —Ç–µ—Å—Ç–∏ –º–∞—é—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω–æ –∑–∞–≤–¥—è–∫–∏:
- Retry –ª–æ–≥—ñ—Ü—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ü—ñ availability-mode
- –°—Ç–∞–±—ñ–ª—å–Ω–∏–º data-testid —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º
- –î–µ—Ç–∞–ª—å–Ω–æ–º—É –ª–æ–≥—É–≤–∞–Ω–Ω—é
- Fallback –º–µ—Ö–∞–Ω—ñ–∑–º–∞–º
